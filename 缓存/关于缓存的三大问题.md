# 关于缓存的三大问题

## 关于缓存
#### 目前的代码设计中，为了避免频繁的查询数据库，一般会在数据库前面，挡一个缓存，也就是存储一些频繁被查询到的数据，缓存在内存中，方便程序直接获取而不需要访问数据库。常见的缓存有redis或者java 的caffeine以及guava的cache。但是关于缓存也会有存在问题，最常见的就是一下三大问题，以及还有一个很大的问题就是怎么保证缓存中的都是热点数据，也就是怎么淘汰数据的问题，还有就是怎么更新数据库和缓存中的数据


## 缓存击穿



## 缓存穿透
#### 缓存穿透就是程序访问了一个在数据库中不存在的值，因为数据库中不存在，所以正常逻辑在缓存中也是没有的，所以频繁的查询就会造成缓存并没有起到应有的作用，所有的数据还是直接访问了数据库
### 解决办法
#### 在缓存中可以针对不存在的键值缓存一个特定的控制，例如NULL
#### 在查询前再部署一道bloomFilter的屏障，直接判断查询的键值是否存在
## 缓存雪崩
#### 因为缓存一般都会设置过期时间，所以如果大部分的缓存在同一时间失效，就会造成数据库涌进大量的访问
### 解决办法
#### 随机失效时间


## 缓存与DB一致性



