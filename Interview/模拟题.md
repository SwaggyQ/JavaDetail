# 模拟题

自我和项目相关

1、自我介绍

2、你觉得自己的优点是？你觉得自己有啥缺点？

3、你有哪些 offer？

4、你为什么要离开上家公司？你上家公司在xxx，我们公司在xxx，离这么远为什么要选择我们这里？

5、上家公司的同事和领导是怎么评价你的？

6、介绍下你的上家公司是做哪块的吧

7、在上家公司你做了哪些项目？

8、你在项目中是什么角色？

9、这个项目的数据量和并发量多大？

10、这个项目用的什么技术？

11、项目过程中有遇到什么很印象深刻的问题吗？

12、是怎么解决的这些问题？

13、项目有没有还可以继续优化的地方？

14、该怎么优化？有什么思路没？

15、叫你设计一个并发xxx，数据存储量xxx 量级的系统，你该如何设计？从你知道的点尽可能的多说出些？

Java 基础

1、Object 对象的方法有哪些？分别有什么作用？该什么场景用？
	 对象的方法包括
	 	- wait 
	 	- wait(long)
	 	- notify
	 	- notifyAll
	 	- toString
	 	- hashcode
	 	- equal
	 	- clone
	 	- getClass
	 以上的wait/notify，必须结合Synchronize使用。因为使用时，当前线程必须得到了对象的monitor。在执行wait之后，会释放monitor锁

2、Integer 的常量缓存池
	在自动装箱的时候，调用的是valueOf方法，会从IntegerCache拿值，默认是-128，127 区间，可以自定义

3、Java 特性？什么是多态？举个例子
	多态是指，在代码中可以用同一操作作用于不同的对象，可以得到不同的结果。也就是用父类指向子类的引用
	有两个好处
	1：程序只需要对基类进行调用，不需要为每一个具体的实现类实现代码，使代码更加的可复用
	2：具体实现类的方法可以被基类方法调用
4、重载重写的区别？	
	
	
5、画下 HashMap 的结构图？HashMap 、 HashTable 和 ConcurrentHashMap 的区别？使用场景分别是？
	
6、HashMap 中怎么解决冲突的？
	HashMap底层维护了一个数组，可以看做一个个桶。当一个新的k-v进来的时候，HashMap首先会用hash算法，具体就是(hashcode的高16位 ^ 低16位) & len,来确定桶位值。所以当k-v越来越多，或者桶数目很少的时候，冲突是非常常见的，为此HashMap使用了拉链法解决hash冲突，并在链表长度过大时，转型为红黑树结构。
	扩容条件：HashMap中的元素个数 > 总容量 * factor
	树化条件：链表长度  大于 8 且小于 64，

7、ConcurrentHashMap 和 HashTable 中线程安全的区别？为啥建议用 ConcurrentHashMap ？能把 ConcurrentHashMap 里面的实现详细的讲下吗？
	HashTable的线程安全方式是对每个的方法加Synchronized，保证只有一个线程可以进入方法，进而保证线程安全
	ConcurrentHashMap是对每个桶位的首节点进行加Synchronized，粒度更小，并结合CAS的操作，保证粒度更小的线程安全实现
8、保证线程安全的还有其他的方式吗？
	多使用局部变量
	使用volatile修饰符
	使用Synchronize修饰符
	使用final修饰符
	
9、讲下 Synchronized？
	
10、讲下 ReentrantLock 可重入锁？ 什么是可重入锁？为什么要设计可重入锁？
	可重入锁是JUC包下的一个保证并发控制的类。
	内部的逻辑主要包含一个继承自AQS的Sync实现类，并还有两个继承自Sync的公平锁和非公平锁的实现类
	主要并发控制在，每次当线程抢占到了资源，也就是得到锁的时候，都会标记当前线程会抢占到的线程，那么当在锁被抢占的情况下，如果是同一个线程来尝试获取资源，则会被允许修改资源。而且同一个线程的每次抢占资源之后，都会+1标记，可以看做是一个标记了抢占了几次的计数器，那么在释放资源的时候，也必须释放同样多次
	公平锁和非公平锁的区别体现在，一个新来的线程，是否可以插队竞争资源
11、Synchronized 和 ReentrantLock 有什么区别？这两个有没有深入了解源码？
	Synchronize有两种用法，同步方法和同步代码块
	同步方法，是在字节码层面采用了ACC_SYNCROBIZED修饰符实现同步
	同步代码块，是用monitorenter、monitorexit两个指令实现同步，每个对象维护着一个加锁的计数器。两者都是基于Monitor的
	Monitor是在jvm中用c++实现的一个对象，维护了包括等待队列，可重入次数，获取锁的次数等几个属性。
	ReentrantLock是一个实现了AQS并发控制框架的，并实现了Lock接口的并发控制类，主要使用了CAS和自旋以及线程park的方式去实现的
12、讲下 Volatile 吧？他是怎样做到同步的？
	Volatile是java中提供的一个修饰符，是针对内存模型中的工作内存和主存之前可能存在的多副本造成的脏数据
	不保证原子性

13、Volatile 为什么不支持原子性？举个例子
	例如i++操作，Volatile不能保证
14、Atomic 怎么设计的？有用过里面的类吗？
	都是用了CAS

15、线程安全类和线程不安全的类，项目使用的时候你会怎么选择？怎么判断项目代码哪里会有线程不安全问题？
	
16、Map、List、Set 分别说下你了解到它们有的线程安全类和线程不安全的类？
	
17、TreeSet 清楚吗？能详细说下吗？
	底层基于TreeMap
	TreeMap实现了NavigableMap接口
	主要依靠一个comparator，所以treeMap的key必须实现了comparator接口，并实现了compare方法。

18、ThreadLocal 了解吗？项目有用过吗？可以说说
	
19、JUC 里面你还知道什么其他的类吗？比如 CountDownLatch(和CyclicBarrier对比)、Condition、CopyOnWriteArrayList

20、从源码详细说下 Java 里面的线程池吧，使用线程池有什么要注意的地方？你们公司有规范吗？
	用ThreadPoolExecutor来显性的创建，不推荐用Executor的方法创建，因为例如cacheThreadPool在创建的时候，会规定maxsize为Integer.max
	
21、怎么延时触发一个任务
JVM

1、JAVA 类加载器

2、Java 内存结构（注：不是 Java 内存模型，别搞混）
	堆，栈(虚拟机栈，本地方法栈)，程序计数器，方法区(meta space)

3、怎么判断对象是否可 GC？Java 对象有哪些引用类型？有什么区别？
	在java里判断对象是否可回收的方法是用一种叫可达性分析的算法，这个算法的基础是找到一些在GC时保证存活的GC ROOT对象。

4、OOM 出现的有哪些场景？为什么会发生？

5、Minor GC 和 Full GC 有什么区别？分析过 GC 日志吗？

6、说下你知道的垃圾回收算法
	标记-清除
	标记-复制
	标记-整理
	分代收集

7、说下你知道的垃圾收集器
	CMS，G1
8、CMS 和 G1 的区别知道吗？使用场景分别是？你项目中用的是哪个？

9、你还知道哪些 JVM 调优参数？

10、假如线上服务发生 OOM，有哪些措施可以找到问题？

11、假如线上服务 CPU 很高该怎么做？有哪些措施可以找到问题？

12、假如线上应用频繁发生 Full GC，有哪些措施可以找到问题？

13、一般线上环境遇到 JVM 问题，你会使用哪些工具来分析？找到问题后又该如何去解决呢？

14、了解堆外内存吗？谈谈你的看法

15、了解过缓存吗，例如guava的cache

16、java里的io模型了解吗？简单谈一下

分布式

1、分布式事务，包括其产生原因、业务背景、主流的解决方案等。

2、理解CAP、BASE等理论，懂得从最终一致性等角度来思考问题，

3、理解Paxos、Raft等一致性算法。

4、理解典型的分布式锁实现，例如最常见的Redis 分布式锁。

5、负载均衡等分布式领域的典型算法，至少要了解主要方案的原理。

Spring

1、说下你对 Spring 生态的了解？

2、说下你对 Spring AOP 和 IOC 的理解？看过实现原理吗？
	
3、说下 Bean 在 Spring 中的生命周期？
	
4、讲下你知道的 Spring 注解有哪些？该什么场景使用？

5、Spring 事务知道吗？有了解过吗？

6、使用 Spring 有遇到过什么印象深刻的问题吗？当时是怎么解决的？

数据库

1、你的项目使用的是什么数据库？

2、你对数据库了解多少？说下数据库的索引实现和非主键的二级索引

3、说下 MySQL 的索引原理

4、讲下 InnoDB 和 MyISAM 的区别？使用场景是？

5、有和 Solr 的索引原理对比过吗？

6、如何判断一个查询 sql 语句是否使用了索引？

7、数据库事务特性和隔离级别

8、项目数据库表是你设计的吗？一般要注意什么？如何考虑扩展性？

9、项目 MySQL 的数据量和并发量有多大？量大后的影响有哪些，有考虑吗？SQL 调优有哪些技巧？

10、说下你项目里面关于数据库印象最深的一个问题？当时是怎么解决的

其他

1、描述下网页一个 Http 请求，到后端的整个请求过程

2、有比较过 Http 和 RPC 吗？如果叫你设计一个高性能的 Http 或者 RPC，你会从哪些方面考虑？

3、项目中我看使用了 xxx （Solr、Hbase、Redis、Flink 等），有深入了解它们的原理和懂点调优技巧吗？

4、项目中我看使用了 xxx （Solr、Hbase、Redis、Mysql 等），有深入了解它们数据同步是怎么做吗？

5、项目中我看使用了 xxx （Solr、Hbase、Redis、Mysql 等），有深入了解它们常见的监控指标吗？

6、如果叫你设计一个秒杀系统，你会从哪些方面考虑？

7、如果叫你设计一个电商系统，你会从哪些方面考虑？

8、如果叫你设计一个监控告警系统，你会从哪些方面考虑？

总结

本文的面试题以 HR & 技术官角度常问的面试题，技术方面从 Java 基础、JVM、Spring、数据库、拓展题等方面考察你，当然面试官可能还会问些其他的技术点，我一篇文章也难以概全。总的来说，还是得多准备充分，面试时灵活答辩，相信你最后能拿到满意的 offer！